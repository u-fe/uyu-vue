{"version":3,"sources":["../../../temp_core/components/Table/index.js"],"names":["debounce","require","throttle","_interopDefaultLegacy","e","debounce__default","throttle__default","script$1","name","props","value","type","Number","size","sizes","Array","total","data","pageNo","pageSize","computed","pageCount","Math","ceil","sizeOptions","map","v","label","watch","immediate","handler","nv","$emit","methods","handleChangeSizeSelect","normalizeComponent","template","style","script","scopeId","isFunctionalTemplate","moduleIdentifier","shadowMode","createInjector","createInjectorSSR","createInjectorShadow","options","render","staticRenderFns","_compiled","functional","_scopeId","hook","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","originalRender","renderWithStyleInjection","h","existing","beforeCreate","concat","__vue_script__$1","__vue_render__$1","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","_g","_b","attrs","length","model","callback","$$v","expression","$attrs","$listeners","staticStyle","dense","items","outlined","on","change","__vue_staticRenderFns__$1","_withStripped","__vue_inject_styles__$1","undefined","__vue_scope_id__$1","__vue_module_identifier__$1","__vue_is_functional_template__$1","__vue_component__$1","components","UPagination","showPagination","Boolean","tableRef","String","paginationProps","Object","serveRequest","Function","requestParams","mode","height","lowerThreshold","currentPage","dataSource","currentPageSize","loading","contentHeight","heightCalcEnd","scrollWrapperEl","pagination","pageNum","isRemote","isScroll","tableHeight","tableMaxNumber","slots","defaultNoDataSlotNames","values","keys","$scopedSlots","reduce","r","idx","includes","deep","resetPaginationRequest","emitPagination","handleRequest","created","initScrollContainer","mounted","handleScroll","target","scrollTop","handleLocalRequest","handleRemoteRequeset","slice","requestFn","then","rows","$nextTick","containerEl","$refs","tableWrapper","querySelector","containerTableEl","listenersScroll","listenersHeight","parseFloat","window","getComputedStyle","getPropertyValue","addEventListener","observer","MutationObserver","observe","childList","subtree","characterData","attributes","$once","disconnect","removeEventListener","__vue_script__","__vue_render__","ref","scopedSlots","_u","_l","key","fn","bindData","_t","slot","$event","_e","__vue_staticRenderFns__","__vue_inject_styles__","__vue_scope_id__","__vue_module_identifier__","__vue_is_functional_template__","__vue_component__","install","Vue","component","module","exports"],"mappings":"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","sourcesContent":["'use strict';\n\nvar debounce = require('lodash.debounce');\nvar throttle = require('lodash.throttle');\n\nfunction _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\n\nvar debounce__default = /*#__PURE__*/_interopDefaultLegacy(debounce);\nvar throttle__default = /*#__PURE__*/_interopDefaultLegacy(throttle);\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nvar script$1 = {\n  name: 'UPagination',\n\n  props: {\n    /** 当前页码 */\n    value: {\n      type: Number,\n      default: 1,\n    },\n    /** 页面展示的数量 支持 .sync 修饰符 **/\n    size: {\n      type: Number,\n      default: 20,\n    },\n\n    /** 每页显示数量 选择器的选项设置 **/\n    sizes: {\n      type: Array,\n      default: () => [10, 20, 30, 50, 100],\n    },\n\n    /** 总条目数 **/\n    total: {\n      type: Number,\n      default: 10,\n    },\n  },\n\n  data() {\n    return {\n      pageNo: this.value,\n      pageSize: this.size,\n    }\n  },\n\n  computed: {\n    pageCount() {\n      return Math.ceil(this.total / this.pageSize) || 1\n    },\n\n    sizeOptions() {\n      return this.sizes.map((v) => ({\n        label: `${v}`,\n        value: v,\n      }))\n    },\n  },\n\n  watch: {\n    value: {\n      immediate: true,\n      handler(nv) {\n        this.pageNo = nv;\n      },\n    },\n    size: {\n      immediate: true,\n      handler(nv) {\n        this.pageSize = nv;\n      },\n    },\n    pageNo(v) {\n      /**\n       * 被绑定模型的更新（页码）\n       * @type {Event}\n       */\n      this.$emit('input', v);\n      /**\n       * 修改当前页码 触发\n       * @type {Event}\n       */\n      this.$emit('page-change', v);\n    },\n    pageSize(v) {\n      /**\n       * 更新绑定的页面数量\n       * @type {Event}\n       */\n      this.$emit('update:size', v);\n      /**\n       * 需改页面数量 触发\n       * @type {Event}\n       */\n      this.$emit('size-change', v);\n\n      /**\n       * 被绑定模型的更新（页码）\n       * @type {Event}\n       */\n      this.$emit('input', 1);\n      /**\n       * 修改当前页码 触发\n       * @type {Event}\n       */\n      this.$emit('page-change', 1);\n    },\n  },\n\n  methods: {\n    handleChangeSizeSelect(value) {\n      this.pageSize = value;\n    },\n  },\n};\n\nfunction normalizeComponent(template, style, script, scopeId, isFunctionalTemplate, moduleIdentifier /* server only */, shadowMode, createInjector, createInjectorSSR, createInjectorShadow) {\r\n    if (typeof shadowMode !== 'boolean') {\r\n        createInjectorSSR = createInjector;\r\n        createInjector = shadowMode;\r\n        shadowMode = false;\r\n    }\r\n    // Vue.extend constructor export interop.\r\n    const options = typeof script === 'function' ? script.options : script;\r\n    // render functions\r\n    if (template && template.render) {\r\n        options.render = template.render;\r\n        options.staticRenderFns = template.staticRenderFns;\r\n        options._compiled = true;\r\n        // functional template\r\n        if (isFunctionalTemplate) {\r\n            options.functional = true;\r\n        }\r\n    }\r\n    // scopedId\r\n    if (scopeId) {\r\n        options._scopeId = scopeId;\r\n    }\r\n    let hook;\r\n    if (moduleIdentifier) {\r\n        // server build\r\n        hook = function (context) {\r\n            // 2.3 injection\r\n            context =\r\n                context || // cached call\r\n                    (this.$vnode && this.$vnode.ssrContext) || // stateful\r\n                    (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext); // functional\r\n            // 2.2 with runInNewContext: true\r\n            if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\r\n                context = __VUE_SSR_CONTEXT__;\r\n            }\r\n            // inject component styles\r\n            if (style) {\r\n                style.call(this, createInjectorSSR(context));\r\n            }\r\n            // register component module identifier for async chunk inference\r\n            if (context && context._registeredComponents) {\r\n                context._registeredComponents.add(moduleIdentifier);\r\n            }\r\n        };\r\n        // used by ssr in case component is cached and beforeCreate\r\n        // never gets called\r\n        options._ssrRegister = hook;\r\n    }\r\n    else if (style) {\r\n        hook = shadowMode\r\n            ? function (context) {\r\n                style.call(this, createInjectorShadow(context, this.$root.$options.shadowRoot));\r\n            }\r\n            : function (context) {\r\n                style.call(this, createInjector(context));\r\n            };\r\n    }\r\n    if (hook) {\r\n        if (options.functional) {\r\n            // register for functional component in vue file\r\n            const originalRender = options.render;\r\n            options.render = function renderWithStyleInjection(h, context) {\r\n                hook.call(context);\r\n                return originalRender(h, context);\r\n            };\r\n        }\r\n        else {\r\n            // inject component registration as beforeCreate hook\r\n            const existing = options.beforeCreate;\r\n            options.beforeCreate = existing ? [].concat(existing, hook) : [hook];\r\n        }\r\n    }\r\n    return script;\r\n}\n\n/* script */\nconst __vue_script__$1 = script$1;\n\n/* template */\nvar __vue_render__$1 = function() {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _c(\n    \"div\",\n    { staticClass: \"d-flex align-center justify-center\" },\n    [\n      _c(\"div\", [_vm._v(\"共\" + _vm._s(_vm.total) + \"条\")]),\n      _vm._v(\" \"),\n      _c(\n        \"v-pagination\",\n        _vm._g(\n          _vm._b(\n            {\n              attrs: { length: _vm.pageCount, total: _vm.total },\n              model: {\n                value: _vm.pageNo,\n                callback: function($$v) {\n                  _vm.pageNo = $$v;\n                },\n                expression: \"pageNo\"\n              }\n            },\n            \"v-pagination\",\n            _vm.$attrs,\n            false\n          ),\n          _vm.$listeners\n        )\n      ),\n      _vm._v(\" \"),\n      _c(\"v-select\", {\n        staticStyle: { \"max-width\": \"100px\" },\n        attrs: {\n          dense: \"\",\n          items: _vm.sizeOptions,\n          \"item-text\": \"label\",\n          \"item-value\": \"value\",\n          outlined: \"\",\n          \"hide-details\": \"\"\n        },\n        on: { change: _vm.handleChangeSizeSelect },\n        model: {\n          value: _vm.pageSize,\n          callback: function($$v) {\n            _vm.pageSize = $$v;\n          },\n          expression: \"pageSize\"\n        }\n      })\n    ],\n    1\n  )\n};\nvar __vue_staticRenderFns__$1 = [];\n__vue_render__$1._withStripped = true;\n\n  /* style */\n  const __vue_inject_styles__$1 = undefined;\n  /* scoped */\n  const __vue_scope_id__$1 = undefined;\n  /* module identifier */\n  const __vue_module_identifier__$1 = undefined;\n  /* functional template */\n  const __vue_is_functional_template__$1 = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__$1 = /*#__PURE__*/normalizeComponent(\n    { render: __vue_render__$1, staticRenderFns: __vue_staticRenderFns__$1 },\n    __vue_inject_styles__$1,\n    __vue_script__$1,\n    __vue_scope_id__$1,\n    __vue_is_functional_template__$1,\n    __vue_module_identifier__$1,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\n//\n\nvar script = {\n  name: 'UTable',\n  components: {\n    UPagination: __vue_component__$1,\n  },\n\n  props: {\n    /**\n     * 是否显示分页\n     * */\n    showPagination: {\n      type: Boolean,\n      default: true,\n    },\n\n    /**\n     * 指定 v-data-table 的 ref\n     * */\n    tableRef: {\n      type: String,\n      default: '',\n    },\n\n    /**\n     * 分页参数 参考 [Vuetify Pagination](https://vuetifyjs.com/components/paginations) 文档\n     * */\n    paginationProps: {\n      type: Object,\n      default() {\n        return {}\n      },\n    },\n\n    /**\n     * 远程请求函数， promise函数\n     * 返回的数据必须是 **`{ rows: [], total: 10 }`**\n     * */\n    serveRequest: {\n      type: Function,\n      default: undefined,\n    },\n\n    /**\n     * 请求参数\n     * 当 参数变动 则分页复位第一页以及重新 触发远程请求\n     * */\n    requestParams: {\n      type: Object,\n      default() {\n        return {}\n      },\n    },\n\n    /**\n     * 分页数量 （当前页面显示的数量）\n     * */\n    pageSize: {\n      type: Number,\n      default: 10,\n    },\n\n    /**\n     * 模式\n     * table: 表格\n     * scroll: 滚动加载\n     * */\n    mode: {\n      type: String,\n      default: 'table',\n    },\n\n    /**\n     * 前端分页数据\n     * */\n    data: {\n      type: Array,\n      default() {\n        return []\n      },\n    },\n\n    /**\n     * 表格高度\n     * */\n    height: {\n      type: [Number, String],\n      default: undefined,\n    },\n\n    /**\n     * 滚动加载状态下 距离底部多大距离触发下一页\n     * */\n    lowerThreshold: {\n      type: Number,\n      default: 80,\n    },\n  },\n\n  data() {\n    return {\n      currentPage: 1,\n      total: 0,\n      dataSource: [],\n      currentPageSize: this.showPagination ? this.pageSize : 999999999,\n      loading: false,\n\n      // 内容高度\n      contentHeight: 0,\n      // 滚动加载 高度是否计算结束\n      heightCalcEnd: true,\n\n      // 滚动容器\n      scrollWrapperEl: null,\n    }\n  },\n\n  computed: {\n    pagination() {\n      return {\n        pageNum: this.currentPage,\n        pageSize: this.currentPageSize,\n      }\n    },\n\n    // 是否是远程\n    isRemote() {\n      return typeof this.serveRequest === 'function'\n    },\n\n    // 是否滚动加载\n    isScroll() {\n      return this.mode === 'scroll'\n    },\n\n    // 表格高度\n    tableHeight() {\n      return this.isScroll ? this.height ?? 300 : this.height\n    },\n\n    // 表格最大显示数量 如果是滚动则不限制\n    tableMaxNumber() {\n      return this.isScroll ? 999999999 : this.currentPageSize\n    },\n\n    slots() {\n      const defaultNoDataSlotNames = [\n        'footer.prepend',\n        'loading',\n        'no-data',\n        'no-results',\n        'progress',\n      ];\n\n      return Object.values(\n        Object.keys(this.$scopedSlots || {}).reduce(\n          (r, v) => {\n            const idx = defaultNoDataSlotNames.includes(v) ? 0 : 1;\n            return {\n              ...r,\n              [idx]: [...r[idx], v],\n            }\n          },\n          {\n            0: [],\n            1: [],\n          }\n        )\n      )\n    },\n  },\n\n  watch: {\n    requestParams: {\n      immediate: true,\n      deep: true,\n      handler() {\n        if (this.isRemote) {\n          // 远程则复位\n          this.resetPaginationRequest();\n        }\n      },\n    },\n    pagination(v) {\n      // if (v.pageNum === 1) {\n      //   this.dataSource = []\n      // }\n\n      this.emitPagination();\n      this.handleRequest();\n    },\n\n    data: {\n      immediate: true,\n      handler(nv) {\n        if (!this.isRemote) {\n          // 不是远程则复位\n          this.resetPaginationRequest();\n        }\n      },\n    },\n  },\n\n  created() {\n    this.initScrollContainer();\n  },\n\n  mounted() {\n    this.emitPagination();\n  },\n\n  methods: {\n    handleScroll(e) {\n      if (\n        this.isScroll &&\n        this.heightCalcEnd &&\n        this.contentHeight - e.target.scrollTop - this.tableHeight <\n          this.lowerThreshold &&\n        this.dataSource.length < this.total\n      ) {\n        this.heightCalcEnd = false;\n        this.currentPage++;\n      }\n    },\n\n    handleRequest() {\n      if (!this.isRemote) {\n        this.handleLocalRequest();\n      } else {\n        this.handleRemoteRequeset();\n      }\n    },\n\n    // 本地分页模拟请求（前端分页）\n    handleLocalRequest() {\n      const { pageNum, pageSize } = this.pagination;\n\n      this.dataSource = this.data?.slice?.(\n        this.isScroll ? 0 : (pageNum - 1) * pageSize,\n        pageNum * pageSize\n      );\n      this.total = this.data?.length ?? 0;\n    },\n\n    // 远程接口请求\n    handleRemoteRequeset() {\n      this.loading = true;\n\n      const requestFn = this.serveRequest?.({\n        ...this.pagination,\n        ...(this.requestParams || {}),\n      });\n\n      if (typeof requestFn?.then === 'function') {\n        requestFn\n          .then((data) => {\n            if (this.isScroll) {\n              if (this.pagination.pageNum === 1) {\n                this.scrollWrapperEl.scrollTop = 0;\n                this.dataSource = data.rows ?? [];\n              } else {\n                this.dataSource = [...this.dataSource, ...(data.rows ?? [])];\n              }\n            } else {\n              this.dataSource = data.rows;\n            }\n            this.total = data.total;\n          })\n          .catch(() => {\n            this.dataSource = [];\n            this.total = 0;\n          })\n          .finally(() => {\n            this.loading = false;\n          });\n      } else {\n        this.loading = false;\n      }\n    },\n\n    emitPagination() {\n      /**\n       * 分页变动触发\n       * @type {Event}\n       */\n      this.$emit('onPagination', this.pagination);\n    },\n\n    resetPaginationRequest() {\n      if (this.currentPage === 1) {\n        // this.dataSource = []\n        // this.total = 0\n        this.handleRequest();\n      } else {\n        this.currentPage = 1;\n      }\n    },\n\n    // 初始化滚动容器\n    initScrollContainer() {\n      this.$nextTick(() => {\n        if (!this.isScroll || this.scrollWrapperEl) return\n        // 只有滚动才执行下面操作\n        const containerEl = this.$refs.tableWrapper.querySelector(\n          '.v-data-table__wrapper'\n        );\n\n        if (!containerEl) return\n\n        const containerTableEl = containerEl.querySelector('table');\n\n        const listenersScroll = debounce__default['default'](this.handleScroll, 100);\n\n        const listenersHeight = throttle__default['default'](() => {\n          let height = parseFloat(\n            window.getComputedStyle(containerTableEl).getPropertyValue('height')\n          );\n          if (height !== this.contentHeight) {\n            this.contentHeight = height;\n            this.heightCalcEnd = true;\n          }\n        }, 500);\n\n        containerTableEl.addEventListener('animationend', listenersHeight);\n        containerTableEl.addEventListener('transitionend', listenersHeight);\n        containerEl.addEventListener('scroll', listenersScroll);\n\n        let observer = new MutationObserver(listenersHeight);\n        observer.observe(containerTableEl, {\n          childList: true,\n          subtree: true,\n          characterData: true,\n          attributes: true,\n        });\n\n        this.scrollWrapperEl = containerEl;\n\n        this.$once('beforeDestroyed', () => {\n          if (observer) {\n            observer.disconnect();\n          }\n          containerTableEl.removeEventListener('animationend', listenersHeight);\n          containerTableEl.removeEventListener('transitionend', listenersHeight);\n          containerEl.removeEventListener('scroll', listenersScroll);\n        });\n      });\n    },\n  },\n};\n\n/* script */\nconst __vue_script__ = script;\n\n/* template */\nvar __vue_render__ = function() {\n  var _vm = this;\n  var _h = _vm.$createElement;\n  var _c = _vm._self._c || _h;\n  return _c(\n    \"div\",\n    { ref: \"tableWrapper\" },\n    [\n      _c(\n        \"v-data-table\",\n        _vm._g(\n          _vm._b(\n            {\n              ref: _vm.tableRef,\n              attrs: {\n                \"hide-default-footer\": \"\",\n                \"fixed-header\": \"\",\n                loading: _vm.loading,\n                items: _vm.dataSource,\n                \"items-per-page\": _vm.tableMaxNumber,\n                height: _vm.tableHeight\n              },\n              scopedSlots: _vm._u(\n                [\n                  _vm._l(_vm.slots[1], function(name) {\n                    return {\n                      key: name,\n                      fn: function(bindData) {\n                        return [_vm._t(name, null, null, bindData)]\n                      }\n                    }\n                  })\n                ],\n                null,\n                true\n              )\n            },\n            \"v-data-table\",\n            _vm.$attrs,\n            false\n          ),\n          _vm.$listeners\n        ),\n        [\n          _vm._l(_vm.slots[0], function(name) {\n            return _vm._t(name, null, { slot: name })\n          })\n        ],\n        2\n      ),\n      _vm._v(\" \"),\n      !_vm.isScroll && _vm.showPagination && !!_vm.total\n        ? _c(\n            \"div\",\n            { staticClass: \"flex-box middle mt-4\" },\n            [\n              _c(\n                \"u-pagination\",\n                _vm._b(\n                  {\n                    attrs: {\n                      total: _vm.total,\n                      \"total-visible\": 7,\n                      size: _vm.currentPageSize\n                    },\n                    on: {\n                      \"update:size\": function($event) {\n                        _vm.currentPageSize = $event;\n                      }\n                    },\n                    model: {\n                      value: _vm.currentPage,\n                      callback: function($$v) {\n                        _vm.currentPage = $$v;\n                      },\n                      expression: \"currentPage\"\n                    }\n                  },\n                  \"u-pagination\",\n                  _vm.paginationProps,\n                  false\n                )\n              )\n            ],\n            1\n          )\n        : _vm._e()\n    ],\n    1\n  )\n};\nvar __vue_staticRenderFns__ = [];\n__vue_render__._withStripped = true;\n\n  /* style */\n  const __vue_inject_styles__ = undefined;\n  /* scoped */\n  const __vue_scope_id__ = undefined;\n  /* module identifier */\n  const __vue_module_identifier__ = undefined;\n  /* functional template */\n  const __vue_is_functional_template__ = false;\n  /* style inject */\n  \n  /* style inject SSR */\n  \n  /* style inject shadow dom */\n  \n\n  \n  const __vue_component__ = /*#__PURE__*/normalizeComponent(\n    { render: __vue_render__, staticRenderFns: __vue_staticRenderFns__ },\n    __vue_inject_styles__,\n    __vue_script__,\n    __vue_scope_id__,\n    __vue_is_functional_template__,\n    __vue_module_identifier__,\n    false,\n    undefined,\n    undefined,\n    undefined\n  );\n\n__vue_component__.install = function (Vue) {\n  Vue.component(__vue_component__.name, __vue_component__);\n};\n\nmodule.exports = __vue_component__;\n"],"file":"index.js"}